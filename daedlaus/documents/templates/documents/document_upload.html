{% extends "base.html" %}
{% load static %}

{% block title %}Upload Document{% endblock %}

{% block page_title %}Upload Document{% endblock %}

{% block breadcrumbs %}
<li><a href="{% url 'documents:document_list' %}">Documents</a></li>
<li>Upload Document</li>
{% endblock %}

{% block content %}
<div class="p-0 md:p-4">
  <div class="card bg-base-100 shadow-md max-w-3xl mx-auto w-full">
    <div class="card-body">
      <h2 class="text-2xl font-bold text-center mb-6">Upload New Document</h2>
      
      <div class="divider mb-6">Document Information</div>
      
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        <!-- Document File Upload Section -->
        <div class="bg-base-200 rounded-lg p-6 mb-6">
          <div class="form-control w-full max-w-full">
            <label class="label">
              <span class="label-text text-lg font-medium">Select Document *</span>
            </label>
            <input 
              type="file" 
              name="file" 
              required 
              class="file-input file-input-bordered file-input-primary w-full" 
              accept=".pdf,.doc,.docx,.txt,.rtf,.xls,.xlsx,.ppt,.pptx"
            >
            <label class="label">
              <span class="label-text-alt">Supported formats: PDF, Word, Excel, PowerPoint, Text</span>
            </label>
          </div>
        </div>
        
        <!-- Basic Information -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 mb-6">
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">Title *</span>
            </label>
            <input 
              type="text" 
              name="title" 
              required 
              class="input input-bordered focus:input-primary" 
              placeholder="Enter document title"
            >
          </div>
          
          <div class="form-control">
            <label class="label">
              <span class="label-text font-medium">Category</span>
            </label>
            <select name="category" class="select select-bordered focus:select-primary w-full">
              <option value="" disabled selected>Select a category</option>
              <option value="">No Category</option>
              {% for category in categories %}
              <option value="{{ category.id }}">{{ category.name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        
        <div class="form-control mb-6">
          <label class="label">
            <span class="label-text font-medium">Description</span>
          </label>
          <textarea 
            name="description" 
            class="textarea textarea-bordered focus:textarea-primary h-24" 
            placeholder="Enter document description"
          ></textarea>
        </div>
        
        <div class="form-control mb-6">
          <label class="label">
            <span class="label-text font-medium">Tags</span>
          </label>
          <input 
            type="text" 
            name="tags" 
            class="input input-bordered focus:input-primary" 
            placeholder="legal, contract, draft, agreement"
          >
          <label class="label">
            <span class="label-text-alt">Separate tags with commas</span>
          </label>
        </div>
        
        <div class="divider mb-6">Access Control</div>
        
        <div class="bg-base-200 rounded-lg p-6 mb-8">
          <div class="form-control">
            <label class="label cursor-pointer justify-start gap-4">
              <input type="checkbox" name="is_private" checked class="checkbox checkbox-primary">
              <div>
                <span class="label-text text-lg font-medium">Private Document</span>
                <p class="text-sm mt-1 text-base-content/70">Restrict access to authorized users only</p>
              </div>
            </label>
          </div>
        </div>
        
        <div class="alert alert-info mb-8">
          <i class="fas fa-info-circle text-xl"></i>
          <div>
            <h3 class="font-bold">Important!</h3>
            <div class="text-sm">Fields marked with an asterisk (*) are required.</div>
          </div>
        </div>
        
        <div class="flex flex-col sm:flex-row justify-end gap-3">
          <a href="{% url 'documents:document_list' %}" class="btn btn-ghost">
            <i class="fas fa-times mr-2"></i>
            Cancel
          </a>
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-upload mr-2"></i>
            Upload Document
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}